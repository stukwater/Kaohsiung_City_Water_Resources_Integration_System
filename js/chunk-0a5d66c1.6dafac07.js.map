{"version":3,"sources":["webpack:///./node_modules/echarts/lib/component/visualMap/PiecewiseView.js","webpack:///./node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/echarts/lib/component/visualMapPiecewise.js","webpack:///./node_modules/echarts/lib/visual/visualSolution.js","webpack:///./node_modules/echarts/lib/component/visualMap/ContinuousModel.js","webpack:///./node_modules/echarts/lib/component/visualMap/ContinuousView.js","webpack:///./node_modules/echarts/lib/component/visualMap.js","webpack:///./src/views/groundWater.vue?a8b2","webpack:///./node_modules/echarts/lib/visual/VisualMapping.js","webpack:///./node_modules/echarts/lib/visual/visualDefault.js","webpack:///./node_modules/leaflet/dist/images/marker-icon.png","webpack:///./node_modules/echarts/lib/component/visualMap/VisualMapView.js","webpack:///./node_modules/echarts/lib/component/visualMapContinuous.js","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/views/groundWater.vue?f166","webpack:///src/views/groundWater.vue","webpack:///./src/views/groundWater.vue?bf91","webpack:///./src/views/groundWater.vue","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/echarts/lib/component/visualMap/visualEncoding.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/echarts/lib/component/visualMap/preprocessor.js","webpack:///./node_modules/echarts/lib/component/visualMap/typeDefaulter.js","webpack:///./node_modules/echarts/lib/component/visualMap/helper.js","webpack:///./node_modules/echarts/lib/component/visualMap/visualMapAction.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/echarts/lib/component/visualMap/VisualMapModel.js","webpack:///./node_modules/echarts/lib/component/helper/sliderMove.js"],"names":["zrUtil","VisualMapView","graphic","_symbol","createSymbol","layout","helper","PiecewiseVisualMapView","extend","type","doRender","thisGroup","this","group","removeAll","visualMapModel","textGap","get","textStyleModel","textFont","getFont","textFill","getTextColor","itemAlign","_getItemAlign","itemSize","viewData","_getViewData","endsText","showLabel","retrieve","renderItem","item","piece","itemGroup","Group","onclick","bind","_onItemClick","_enableHoverLink","indexInModelPieceList","representValue","getRepresentValue","_createItemSymbol","visualState","getValueState","add","Text","style","x","y","text","textVerticalAlign","textAlign","opacity","_renderEndsText","each","viewPieceList","box","renderBackground","positionGroup","pieceIndex","onHoverLink","method","option","hoverLink","api","dispatchAction","batch","makeHighDownBatch","findTargetDataIndices","on","modelOption","orient","getItemAlign","align","map","getPieceList","index","inverse","reverse","slice","shapeParam","getControllerVisual","selected","clone","newKey","getSelectedMapKey","selectedMode","o","key","from","uid","visualMapId","id","_default","module","exports","_config","__DEV__","VisualMapModel","VisualMapping","visualDefault","_number","reformIntervals","PiecewiseModel","defaultOption","minOpen","maxOpen","itemWidth","itemHeight","itemSymbol","pieceList","categories","splitNumber","itemGap","optionUpdated","newOption","isInit","superApply","arguments","_pieceList","resetExtent","mode","_mode","_determineMode","resetMethods","call","_resetSelected","resetVisual","mappingOption","state","mappingMethod","dataExtent","getExtent","visual","completeVisualOption","visualTypesInPieces","visualTypes","listVisualTypes","isCategory","has","obj","visualType","isObject","hasOwnProperty","pieces","v","exists","stateList","target","prototype","apply","thisOption","hasSel","value","length","setSelected","findPieceIndex","result","eachTargetSeries","seriesModel","dataIndices","data","getData","getDataDimension","dataIndex","pIdx","push","seriesId","pieceInterval","interval","Infinity","getVisualMeta","getColorVisual","stops","outerColors","edge","unshift","curr","setStop","valueState","color","precision","Math","min","max","parseInt","splitStep","toFixed","close","formatValueText","cate","normalizeReverse","pieceListItem","label","closeList","infinityList","useMinMax","lg","names","i","retrieveVisuals","edgeSymbols","Object","is","classof","regexpExec","R","S","exec","TypeError","echarts","preprocessor","registerPreprocessor","hasKeys","name","createVisualMappings","supplementVisualOption","visualMappings","mappings","createMappings","visualData","isValidType","__hidden","__alphaForOpacity","Creater","replaceVisualOption","keys","applyVisual","scope","dimension","visualTypesMap","getVisual","getItemVisual","setVisual","setItemVisual","eachItem","valueOrIndex","rawDataItem","getRawDataItem","visualMap","len","prepareVisualTypes","incrementalApplyVisual","dim","progress","params","getDimension","next","numberUtil","DEFAULT_BAR_BOUND","ContinuousModel","calculable","range","realtime","hoverLinkDataSize","hoverLinkOnHandle","_resetRange","resetItemSize","_orient","isNaN","auto","isArray","symbolSize","controller","getSelected","dataInterval","asc","oVals","getColorStopValues","iVals","iIdx","oIdx","iLen","oLen","first","stopsLen","count","step","stopValues","LinearGradient","eventTool","sliderMove","modelUtil","linearMap","mathMin","mathMax","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","init","_shapes","_dataInterval","_handleEnds","_useHandle","_hoverLinkDataIndices","_dragging","_hovering","ecModel","payload","_buildView","_resetInterval","_renderBar","dataRangeText","_updateView","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","barGroup","position","_applyTransform","targetGroup","shapes","useHandle","_createBarGroup","outOfRange","createPolygon","inRange","getCursor","_dragHandle","textRect","getTextRect","textSize","width","height","handleThumbs","handleLabels","handleLabelPoints","_createHandle","_createIndicator","handleIndex","onDrift","onDragEnd","handleThumb","createHandlePoints","handleLabel","draggable","drift","onmousemove","e","stop","event","ondragend","handleLabelPoint","indicator","attr","invisible","silent","indicatorLabel","indicatorLabelPoint","isEnd","dx","dy","vertex","_updateInterval","_clearHoverLinkToSeries","useHoverLinkOnHandle","_doHoverLinkToSeries","sizeExtent","delta","handleEnds","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","setStyle","fill","barColor","setShape","barPoints","_updateHandle","forceState","opts","convertOpacityToAlpha","colorStops","_makeColorGradient","symbolSizes","_createBarPoints","handlesColor","sampleNumber","offset","currValue","scale","rotation","PI","textPoint","applyTransform","getTransform","_showIndicator","cursorValue","textValue","rangeSymbol","halfHoverLinkSize","pos","createIndicatorPoints","self","offsetX","offsetY","zr","getZr","_hoverLinkFromSeriesMouseOver","_hideIndicator","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","valueRange","oldBatch","newBatch","resultBatches","compressBatches","_dispatchHighDown","el","dataModel","getSeriesByIndex","seriesIndex","isTargetSeries","dataType","indices","off","element","global","transform","dispose","remove","points","cursor","Polygon","shape","isRange","extentMax","zrColor","CATEGORY_DEFAULT_VISUAL_INDEX","_normalizeData","normalizers","visualHandler","visualHandlers","getColorMapper","_doMap","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","assert","constructor","mapValueToVisual","normalized","getNormalizer","makeApplyVisual","isNormalized","doMapCategory","out","returnRGBArray","fastLerp","parsedVisual","stringify","linear","category","piecewise","getSpecifiedVisual","fixed","doMapFixed","colorHue","makePartialColorVisualHandler","modifyHSL","colorSaturation","colorLightness","colorAlpha","modifyAlpha","makeDoMap","liftZ","symbol","getter","setter","symbolCfg","isString","doMapToArray","hasSpecialVisual","originIndex","categoryMap","visualArr","setVisualToOption","pop","doNotNeedPair","applyValue","round","loop","sourceExtent","parse","noop","littleThan","a","b","handler","addVisualHandler","eachVisual","callback","context","mapVisual","isPrimary","newVisual","newVal","hasVisual","ret","h","types","sort","type1","type2","indexOf","dependsOn","visualType1","visualType2","findClosestWhenOutside","possibleI","abs","pieceValue","updatePossible","val","newAbs","active","inactive","formatUtil","extendComponentView","autoPositionValues","left","right","top","bottom","render","padding","normalizeCssArray","rect","getBoundingRect","Rect","z2","stroke","lineWidth","targetValue","visualCluster","visualObj","defaultColor","controllerVisuals","visualMapping","model","positionElement","getBoxLayoutParams","getWidth","getHeight","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","undefined","RegExp","String","res","done","rx","previousLastIndex","lastIndex","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","staticStyle","ExplanTable","tableHeaderColor","background","_s","clickDisName","zoom","options","center","url","attribution","_l","ref","refInFor","local","iconimg","tooltipOptions","address","directives","rawName","expression","newestData","setSearchTitle","date","fontSize","tableCellStyle","tableCellStyle2","_e","loading","searchStation","search","$$v","$set","mapOptions","series","searchData","historyData","staticRenderFns","registerMap","ntpJson","show","station","dis","mapchart","stationArray","stationlatlng","stationlatlng_original","loading2","nowYear","zoomControl","permanent","methods","columnIndex","row","year","parseFloat","firstWWord","cellStyle","standard","forEach","console","log","getStationName","getStationNewestData","$message","message","download","link","display","href","setAttribute","document","body","appendChild","click","component","regexpFlags","stickyHelpers","nativeExec","nativeReplace","replace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","str","reCopy","match","re","sticky","flags","source","charsAdded","strCopy","multiline","input","fails","RE","s","f","visualSolution","VISUAL_PRIORITY","PRIORITY","VISUAL","COMPONENT","targetVisuals","resultVisual","mapping","registerVisual","createOnAllSeries","reset","resetDefines","eachComponent","pipelineContext","large","visualMetaList","visualMeta","concreteDim","dimInfo","getDimensionInfo","$","proto","forced","opt","splitList","start","end","Component","registerSubTypeDefaulter","_layout","getLayoutRect","ecSize","realIndex","paramsSet","reals","fakeValue","layoutInput","rParam","margin","batchItem","dataIndexInside","highlightKey","componentIndex","actionInfo","update","registerAction","mainType","query","redefine","wellKnownSymbol","createNonEnumerableProperty","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","split","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","string","arg","env","extendComponentModel","dependencies","replacableOptionKeys","dataBound","layoutMode","ignoreSize","zlevel","z","backgroundColor","borderColor","contentColor","inactiveColor","borderWidth","formatter","textStyle","parentModel","_dataExtent","mergeDefaultAndTheme","canvasSupported","getModel","getTargetSeriesIndices","optionSeriesIndex","seriesIndices","eachSeries","normalizeToArray","isMinMax","isFunction","extent","list","optDim","listDimensions","dimensions","dimNames","dimName","isCalculationCoord","base","merge","completeSingle","defa","completeInactive","stateExist","stateAbsent","optExist","optAbsent","completeController","symbolExists","symbolSizeExists","visuals","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","sign","currDistSign","span","dist"],"mappings":"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","file":"js/chunk-0a5d66c1.6dafac07.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"./helper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PiecewiseVisualMapView = VisualMapView.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n\n    var itemAlign = this._getItemAlign();\n\n    var itemSize = visualMapModel.itemSize;\n\n    var viewData = this._getViewData();\n\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, renderItem, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n\n    function renderItem(item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n\n      var representValue = visualMapModel.getRepresentValue(piece);\n\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]);\n\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            textVerticalAlign: 'middle',\n            textAlign: itemAlign,\n            textFont: textFont,\n            textFill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          }\n        }));\n      }\n\n      thisGroup.add(itemGroup);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLink: function (itemGroup, pieceIndex) {\n    itemGroup.on('mouseover', zrUtil.bind(onHoverLink, this, 'highlight')).on('mouseout', zrUtil.bind(onHoverLink, this, 'downplay'));\n\n    function onHoverLink(method) {\n      var visualMapModel = this.visualMapModel;\n      visualMapModel.option.hoverLink && this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _getItemAlign: function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n\n      return align;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        textVerticalAlign: 'middle',\n        textAlign: showLabel ? itemAlign : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n    group.add(itemGroup);\n  },\n\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  _getViewData: function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text'); // Consider orient and inverse.\n\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse'); // Order of model pieceList is always [low, ..., high]\n\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    } // Origin order of endsText is [high, low]\n    else if (endsText) {\n        endsText = endsText.slice().reverse();\n      }\n\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  },\n\n  /**\n   * @private\n   */\n  _createItemSymbol: function (group, representValue, shapeParam) {\n    group.add(createSymbol(this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3], this.getControllerVisual(representValue, 'color')));\n  },\n\n  /**\n   * @private\n   */\n  _onItemClick: function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n\n    if (option.selectedMode === 'single') {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  }\n});\nvar _default = PiecewiseVisualMapView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar _number = require(\"../../util/number\");\n\nvar reformIntervals = _number.reformIntervals;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PiecewiseModel = VisualMapModel.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * Order Rule:\n   *\n   * option.categories / option.pieces / option.text / option.selected:\n   *     If !option.inverse,\n   *     Order when vertical: ['top', ..., 'bottom'].\n   *     Order when horizontal: ['left', ..., 'right'].\n   *     If option.inverse, the meaning of\n   *     the order should be reversed.\n   *\n   * this._pieceList:\n   *     The order is always [low, ..., high].\n   *\n   * Mapping from location to low-high:\n   *     If !option.inverse\n   *     When vertical, top is high.\n   *     When horizontal, right is high.\n   *     If option.inverse, reverse.\n   */\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    selected: null,\n    // Object. If not specified, means selected.\n    // When pieces and splitNumber: {'0': true, '5': true}\n    // When categories: {'cate1': false, 'cate3': true}\n    // When selected === false, means all unselected.\n    minOpen: false,\n    // Whether include values that smaller than `min`.\n    maxOpen: false,\n    // Whether include values that bigger than `max`.\n    align: 'auto',\n    // 'auto', 'left', 'right'\n    itemWidth: 20,\n    // When put the controller vertically, it is the length of\n    // horizontal side of each item. Otherwise, vertical side.\n    itemHeight: 14,\n    // When put the controller vertically, it is the length of\n    // vertical side of each item. Otherwise, horizontal side.\n    itemSymbol: 'roundRect',\n    pieceList: null,\n    // Each item is Object, with some of those attrs:\n    // {min, max, lt, gt, lte, gte, value,\n    // color, colorSaturation, colorAlpha, opacity,\n    // symbol, symbolSize}, which customize the range or visual\n    // coding of the certain piece. Besides, see \"Order Rule\".\n    categories: null,\n    // category names, like: ['some1', 'some2', 'some3'].\n    // Attr min/max are ignored when categories set. See \"Order Rule\"\n    splitNumber: 5,\n    // If set to 5, auto split five pieces equally.\n    // If set to 0 and component type not set, component type will be\n    // determined as \"continuous\". (It is less reasonable but for ec2\n    // compatibility, see echarts/component/visualMap/typeDefaulter)\n    selectedMode: 'multiple',\n    // Can be 'multiple' or 'single'.\n    itemGap: 10,\n    // The gap between two items, in px.\n    hoverLink: true,\n    // Enable hover highlight.\n    showLabel: null // By default, when text is used, label will hide (the logic\n    // is remained for compatibility reason)\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    PiecewiseModel.superApply(this, 'optionUpdated', arguments);\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._pieceList = [];\n    this.resetExtent();\n    /**\n     * 'pieces', 'categories', 'splitNumber'\n     * @type {string}\n     */\n\n    var mode = this._mode = this._determineMode();\n\n    resetMethods[this._mode].call(this);\n\n    this._resetSelected(newOption, isInit);\n\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          var piece = zrUtil.clone(piece);\n\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n\n          return piece;\n        });\n      }\n    });\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = 0;\n      zrUtil.each(this.stateList, function (state) {\n        exists |= has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n\n    function has(obj, state, visualType) {\n      return obj && obj[state] && (zrUtil.isObject(obj[state]) ? obj[state].hasOwnProperty(visualType) : obj[state] === visualType // e.g., inRange: 'symbol'\n      );\n    }\n\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n  },\n  _resetSelected: function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList; // Selected do not merge but all override.\n\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected; // Consider 'not specified' means true.\n\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n\n        if (selected[key]) {\n          hasSel ? selected[key] = false : hasSel = true;\n        }\n      }, this);\n    } // thisOption.selectedMode === 'multiple', default: all selected.\n\n  },\n\n  /**\n   * @public\n   */\n  getSelectedMapKey: function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  },\n\n  /**\n   * @public\n   */\n  getPieceList: function () {\n    return this._pieceList;\n  },\n\n  /**\n   * @private\n   * @return {string}\n   */\n  _determineMode: function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getValueState: function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  },\n\n  /**\n   * @public\n   * @params {number} pieceIndex piece index in visualMapModel.getPieceList()\n   * @return {Array.<Object>} [{seriesId, dataIndex: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (pieceIndex) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, this._pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @private\n   * @param {Object} piece piece.value or piece.interval is required.\n   * @return {number} Can be Infinity or -Infinity\n   */\n  getRepresentValue: function (piece) {\n    var representValue;\n\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n\n    return representValue;\n  },\n  getVisualMeta: function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n\n    var stops = [];\n    var outerColors = [];\n    var visualMapModel = this;\n\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      });\n\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n\n      var color = getColorVisual(representValue, valueState);\n\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    } // Suplement\n\n\n    var pieceList = this._pieceList.slice();\n\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  }\n});\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\n\nvar resetMethods = {\n  splitNumber: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber; // Precision auto-adaption\n\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n\n    if (thisOption.minOpen) {\n      pieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      pieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n\n    if (thisOption.maxOpen) {\n      pieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function () {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME categorypieceListvisualMappingpieceList\n      // \n      this._pieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, this._pieceList);\n  },\n  pieces: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n\n      var item = {\n        text: '',\n        index: index\n      };\n\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommanded.\n        var interval = item.interval = [];\n        var close = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n\n        useMinMax[0] && interval[1] === Infinity && (close[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close[1] = 0);\n\n        if (interval[0] === interval[1] && close[0] && close[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      pieceList.push(item);\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, pieceList); // Only pieces\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\n\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\n\nvar _default = PiecewiseModel;\nmodule.exports = _default;","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/PiecewiseModel\");\n\nrequire(\"./visualMap/PiecewiseView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapping = require(\"./VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Visual solution, for consistent option specification.\n */\nvar each = zrUtil.each;\n\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name in obj) {\n      if (obj.hasOwnProperty(name)) {\n        return true;\n      }\n    }\n  }\n}\n/**\n * @param {Object} option\n * @param {Array.<string>} stateList\n * @param {Function} [supplementVisualOption]\n * @return {Object} visualMappings <state, <visualType, module:echarts/visual/VisualMapping>>\n */\n\n\nfunction createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption); // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n\n  function createMappings() {\n    var Creater = function () {}; // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n\n\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\n/**\n * @param {Object} thisOption\n * @param {Object} newOption\n * @param {Array.<string>} keys\n */\n\n\nfunction replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {module:echarts/data/List} list\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {object} [scope] Scope for getValueState\n * @param {string} [dimension] Concrete dimension, if used.\n */\n// ???! handle brush?\n\n\nfunction applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n\n  function getVisual(key) {\n    return data.getItemVisual(dataIndex, key);\n  }\n\n  function setVisual(key, value) {\n    data.setItemVisual(dataIndex, key, value);\n  }\n\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex : index;\n    var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {number} [dim] dimension or dimension index.\n */\n\n\nfunction incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n\n  function progress(params, data) {\n    if (dim != null) {\n      dim = data.getDimension(dim);\n    }\n\n    function getVisual(key) {\n      return data.getItemVisual(dataIndex, key);\n    }\n\n    function setVisual(key, value) {\n      data.setItemVisual(dataIndex, key, value);\n    }\n\n    var dataIndex;\n\n    while ((dataIndex = params.next()) != null) {\n      var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n      if (rawDataItem && rawDataItem.visualMap === false) {\n        continue;\n      }\n\n      var value = dim != null ? data.get(dim, dataIndex, true) : dataIndex;\n      var valueState = getValueState(value);\n      var mappings = visualMappings[valueState];\n      var visualTypes = visualTypesMap[valueState];\n\n      for (var i = 0, len = visualTypes.length; i < len; i++) {\n        var type = visualTypes[i];\n        mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n      }\n    }\n  }\n\n  return {\n    progress: progress\n  };\n}\n\nexports.createVisualMappings = createVisualMappings;\nexports.replaceVisualOption = replaceVisualOption;\nexports.applyVisual = applyVisual;\nexports.incrementalApplyVisual = incrementalApplyVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = VisualMapModel.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    align: 'auto',\n    // 'auto', 'left', 'right', 'top', 'bottom'\n    calculable: false,\n    // This prop effect default component type determine,\n    // See echarts/component/visualMap/typeDefaulter.\n    range: null,\n    // selected range. In default case `range` is [min, max]\n    // and can auto change along with modification of min max,\n    // util use specifid a range.\n    realtime: true,\n    // Whether realtime update.\n    itemHeight: null,\n    // The length of the range control edge.\n    itemWidth: null,\n    // The length of the other side.\n    hoverLink: true,\n    // Enable hover highlight.\n    hoverLinkDataSize: null,\n    // The size of hovered data.\n    hoverLinkOnHandle: null // Whether trigger hoverLink when hover handle.\n    // If not specified, follow the value of `realtime`.\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    ContinuousModel.superApply(this, 'optionUpdated', arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n\n    this._resetRange();\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  resetItemSize: function () {\n    ContinuousModel.superApply(this, 'resetItemSize', arguments);\n    var itemSize = this.itemSize;\n    this._orient === 'horizontal' && itemSize.reverse();\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  },\n\n  /**\n   * @private\n   */\n  _resetRange: function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n\n    if (!range || range.auto) {\n      // `range` should always be array (so we dont use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = 0; // For good looking.\n      }\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.range = selected.slice();\n\n    this._resetRange();\n  },\n\n  /**\n   * @public\n   */\n  getSelected: function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice()); // Clamp\n\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  },\n\n  /**\n   * @override\n   */\n  getValueState: function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent(); // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  },\n\n  /**\n   * @params {Array.<number>} range target value: range[0] <= value && value <= range[1]\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @implement\n   */\n  getVisualMeta: function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    } // Format to: outOfRange -- inRange -- outOfRange.\n\n\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  }\n});\n\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  } // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n\n\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\n\nvar _default = ContinuousModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar LinearGradient = require(\"zrender/lib/graphic/LinearGradient\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar helper = require(\"./helper\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max; // Arbitrary value\n\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6; // Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\n\nvar ContinuousView = VisualMapView.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @override\n   */\n  init: function () {\n    ContinuousView.superApply(this, 'init', arguments);\n    /**\n     * @private\n     */\n\n    this._shapes = {};\n    /**\n     * @private\n     */\n\n    this._dataInterval = [];\n    /**\n     * @private\n     */\n\n    this._handleEnds = [];\n    /**\n     * @private\n     */\n\n    this._orient;\n    /**\n     * @private\n     */\n\n    this._useHandle;\n    /**\n     * @private\n     */\n\n    this._hoverLinkDataIndices = [];\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._hovering;\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _buildView: function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n\n    this._resetInterval();\n\n    this._renderBar(thisGroup);\n\n    var dataRangeText = visualMapModel.get('text');\n\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n\n    this._renderEndsText(thisGroup, dataRangeText, 1); // Do this for background size calculation.\n\n\n    this._updateView(true); // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n\n\n    this.renderBackground(thisGroup); // Real update view\n\n    this._updateView();\n\n    this._enableHoverLinkToSeries();\n\n    this._enableHoverLinkFromSeries();\n\n    this.positionGroup(thisGroup);\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    } // Compatible with ec2, text[0] map to high value, text[1] map low value.\n\n\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.barGroup;\n\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: {\n        x: position[0],\n        y: position[1],\n        textVerticalAlign: orient === 'horizontal' ? 'middle' : align,\n        textAlign: orient === 'horizontal' ? align : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderBar: function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n\n    var barGroup = shapes.barGroup = this._createBarGroup(itemAlign); // Bar\n\n\n    barGroup.add(shapes.outOfRange = createPolygon());\n    barGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    var textRect = visualMapModel.textStyleModel.getTextRect('');\n    var textSize = mathMax(textRect.width, textRect.height); // Handle\n\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n\n      this._createHandle(barGroup, 0, itemSize, textSize, orient, itemAlign);\n\n      this._createHandle(barGroup, 1, itemSize, textSize, orient, itemAlign);\n    }\n\n    this._createIndicator(barGroup, itemSize, textSize, orient);\n\n    targetGroup.add(barGroup);\n  },\n\n  /**\n   * @private\n   */\n  _createHandle: function (barGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleThumb = createPolygon(createHandlePoints(handleIndex, textSize), getCursor(this._orient), onDrift, onDragEnd);\n    handleThumb.position[0] = itemSize[0];\n    barGroup.add(handleThumb); // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(handleLabel);\n    var handleLabelPoint = [orient === 'horizontal' ? textSize / 2 : textSize * 1.5, orient === 'horizontal' ? handleIndex === 0 ? -(textSize * 1.5) : textSize * 1.5 : handleIndex === 0 ? -textSize / 2 : textSize / 2];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  },\n\n  /**\n   * @private\n   */\n  _createIndicator: function (barGroup, itemSize, textSize, orient) {\n    var indicator = createPolygon([[0, 0]], 'move');\n    indicator.position[0] = itemSize[0];\n    indicator.attr({\n      invisible: true,\n      silent: true\n    });\n    barGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT + 3, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n  },\n\n  /**\n   * @private\n   */\n  _dragHandle: function (handleIndex, isEnd, dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    this._dragging = !isEnd;\n\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.barGroup, true);\n\n      this._updateInterval(handleIndex, vertex[1]); // Considering realtime, update view should be executed\n      // before dispatch action.\n\n\n      this._updateView();\n    } // dragEnd do not dispatch action when realtime.\n\n\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  _updateInterval: function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex, // cross is forbiden\n    0);\n    var dataExtent = visualMapModel.getExtent(); // Update data interval.\n\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor,\n      opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor,\n      opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  },\n\n  /**\n   * @private\n   */\n  _createBarVisual: function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  },\n\n  /**\n   * @private\n   */\n  _makeColorGradient: function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only caculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  },\n\n  /**\n   * @private\n   */\n  _createBarPoints: function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  },\n\n  /**\n   * @private\n   */\n  _createBarGroup: function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scale: itemAlign === 'bottom' ? [1, 1] : [-1, 1],\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scale: itemAlign === 'bottom' ? [-1, 1] : [1, 1],\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scale: itemAlign === 'left' ? [1, -1] : [-1, -1]\n    } : {\n      scale: itemAlign === 'left' ? [1, 1] : [-1, 1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _updateHandle: function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.position[1] = handleEnds[handleIndex]; // Update handle label position.\n\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        textVerticalAlign: 'middle',\n        textAlign: this._applyTransform(this._orient === 'horizontal' ? handleIndex === 0 ? 'bottom' : 'top' : 'left', shapes.barGroup)\n      });\n    }, this);\n  },\n\n  /**\n   * @private\n   * @param {number} cursorValue\n   * @param {number} textValue\n   * @param {string} [rangeSymbol]\n   * @param {number} [halfHoverLinkSize]\n   */\n  _showIndicator: function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var pos = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n\n    if (!indicator) {\n      return;\n    }\n\n    indicator.position[1] = pos;\n    indicator.attr('invisible', false);\n    indicator.setShape('points', createIndicatorPoints(!!rangeSymbol, halfHoverLinkSize, pos, itemSize[1]));\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    indicator.setStyle('fill', color); // Update handle label position.\n\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n\n    var align = this._applyTransform('left', shapes.barGroup);\n\n    var orient = this._orient;\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      textVerticalAlign: orient === 'horizontal' ? align : 'middle',\n      textAlign: orient === 'horizontal' ? 'center' : align,\n      x: textPoint[0],\n      y: textPoint[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkToSeries: function () {\n    var self = this;\n\n    this._shapes.barGroup.on('mousemove', function (e) {\n      self._hovering = true;\n\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.barGroup, true, true); // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n\n\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkFromSeries: function () {\n    var zr = this.api.getZr();\n\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doHoverLinkToSeries: function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent(); // For hover link show when hover handle, which might be below or upper than sizeExtent.\n\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)]; // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity); // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n      }\n    } // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n\n\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  },\n\n  /**\n   * @private\n   */\n  _hoverLinkFromSeriesMouseOver: function (e) {\n    var el = e.target;\n    var visualMapModel = this.visualMapModel;\n\n    if (!el || el.dataIndex == null) {\n      return;\n    }\n\n    var dataModel = this.ecModel.getSeriesByIndex(el.seriesIndex);\n\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n\n    var data = dataModel.getData(el.dataType);\n    var value = data.get(visualMapModel.getDataDimension(data), el.dataIndex, true);\n\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _hideIndicator: function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkToSeries: function () {\n    this._hideIndicator();\n\n    var indices = this._hoverLinkDataIndices;\n\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n\n    indices.length = 0;\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkFromSeries: function () {\n    this._hideIndicator();\n\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  },\n\n  /**\n   * @private\n   */\n  _applyTransform: function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return graphic[zrUtil.isArray(vertex) ? 'applyTransform' : 'transformDirection'](vertex, transform, inverse);\n  },\n\n  /**\n   * @private\n   */\n  _dispatchHighDown: function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  }\n});\n\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // Fot mobile devicem, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\n\nfunction createHandlePoints(handleIndex, textSize) {\n  return handleIndex === 0 ? [[0, 0], [textSize, 0], [textSize, -textSize]] : [[0, 0], [textSize, 0], [textSize, textSize]];\n}\n\nfunction createIndicatorPoints(isRange, halfHoverLinkSize, pos, extentMax) {\n  return isRange ? [// indicate range\n  [0, -mathMin(halfHoverLinkSize, mathMax(pos, 0))], [HOVER_LINK_OUT, 0], [0, mathMin(halfHoverLinkSize, mathMax(extentMax - pos, 0))]] : [// indicate single value\n  [0, 0], [5, -5], [5, 5]];\n}\n\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n\n  return halfHoverLinkSize;\n}\n\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = ContinuousView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./visualMapContinuous\");\n\nrequire(\"./visualMapPiecewise\");","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groundWater.vue?vue&type=style&index=0&id=6dbb233e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groundWater.vue?vue&type=style&index=0&id=6dbb233e&lang=scss&scoped=true&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar _number = require(\"../util/number\");\n\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\n/**\n * @param {Object} option\n * @param {string} [option.type] See visualHandlers.\n * @param {string} [option.mappingMethod] 'linear' or 'piecewise' or 'category' or 'fixed'\n * @param {Array.<number>=} [option.dataExtent] [minExtent, maxExtent],\n *                                              required when mappingMethod is 'linear'\n * @param {Array.<Object>=} [option.pieceList] [\n *                                             {value: someValue},\n *                                             {interval: [min1, max1], visual: {...}},\n *                                             {interval: [min2, max2]}\n *                                             ],\n *                                            required when mappingMethod is 'piecewise'.\n *                                            Visual for only each piece can be specified.\n * @param {Array.<string|Object>=} [option.categories] ['cate1', 'cate2']\n *                                            required when mappingMethod is 'category'.\n *                                            If no option.categories, categories is set\n *                                            as [0, 1, 2, ...].\n * @param {boolean} [option.loop=false] Whether loop mapping when mappingMethod is 'category'.\n * @param {(Array|Object|*)} [option.visual]  Visual data.\n *                                            when mappingMethod is 'category',\n *                                            visual data can be array or object\n *                                            (like: {cate1: '#222', none: '#fff'})\n *                                            or primary types (which represents\n *                                            defualt category visual), otherwise visual\n *                                            can be array or primary (which will be\n *                                            normalized to array).\n *\n */\n\nvar VisualMapping = function (option) {\n  var mappingMethod = option.mappingMethod;\n  var visualType = option.type;\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n\n  var thisOption = this.option = zrUtil.clone(option);\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.type = visualType;\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.mappingMethod = mappingMethod;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._normalizeData = normalizers[mappingMethod];\n  var visualHandler = visualHandlers[visualType];\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.applyVisual = visualHandler.applyVisual;\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.getColorMapper = visualHandler.getColorMapper;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._doMap = visualHandler._doMap[mappingMethod];\n\n  if (mappingMethod === 'piecewise') {\n    normalizeVisualRange(thisOption);\n    preprocessForPiecewise(thisOption);\n  } else if (mappingMethod === 'category') {\n    thisOption.categories ? preprocessForSpecifiedCategory(thisOption) // categories is ordinal when thisOption.categories not specified,\n    // which need no more preprocess except normalize visual.\n    : normalizeVisualRange(thisOption, true);\n  } else {\n    // mappingMethod === 'linear' or 'fixed'\n    zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n    normalizeVisualRange(thisOption);\n  }\n};\n\nVisualMapping.prototype = {\n  constructor: VisualMapping,\n  mapValueToVisual: function (value) {\n    var normalized = this._normalizeData(value);\n\n    return this._doMap(normalized, value);\n  },\n  getNormalizer: function () {\n    return zrUtil.bind(this._normalizeData, this);\n  }\n};\nvar visualHandlers = VisualMapping.visualHandlers = {\n  color: {\n    applyVisual: makeApplyVisual('color'),\n\n    /**\n     * Create a mapper function\n     * @return {Function}\n     */\n    getColorMapper: function () {\n      var thisOption = this.option;\n      return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n        !isNormalized && (value = this._normalizeData(value));\n        return doMapCategory.call(this, value);\n      } : function (value, isNormalized, out) {\n        // If output rgb array\n        // which will be much faster and useful in pixel manipulation\n        var returnRGBArray = !!out;\n        !isNormalized && (value = this._normalizeData(value));\n        out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n        return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n      }, this);\n    },\n    _doMap: {\n      linear: function (normalized) {\n        return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n      },\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  colorHue: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, value);\n  }),\n  colorSaturation: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, value);\n  }),\n  colorLightness: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, null, value);\n  }),\n  colorAlpha: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyAlpha(color, value);\n  }),\n  opacity: {\n    applyVisual: makeApplyVisual('opacity'),\n    _doMap: makeDoMap([0, 1])\n  },\n  liftZ: {\n    applyVisual: makeApplyVisual('liftZ'),\n    _doMap: {\n      linear: doMapFixed,\n      category: doMapFixed,\n      piecewise: doMapFixed,\n      fixed: doMapFixed\n    }\n  },\n  symbol: {\n    applyVisual: function (value, getter, setter) {\n      var symbolCfg = this.mapValueToVisual(value);\n\n      if (zrUtil.isString(symbolCfg)) {\n        setter('symbol', symbolCfg);\n      } else if (isObject(symbolCfg)) {\n        for (var name in symbolCfg) {\n          if (symbolCfg.hasOwnProperty(name)) {\n            setter(name, symbolCfg[name]);\n          }\n        }\n      }\n    },\n    _doMap: {\n      linear: doMapToArray,\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = doMapToArray.call(this, normalized);\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  symbolSize: {\n    applyVisual: makeApplyVisual('symbolSize'),\n    _doMap: makeDoMap([0, 1])\n  }\n};\n\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index; // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\n\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var visual = thisOption.visual;\n  var categoryMap = thisOption.categoryMap = {};\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  }); // Process visual map input.\n\n  if (!zrUtil.isArray(visual)) {\n    var visualArr = [];\n\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n\n    visual = setVisualToOption(thisOption, visualArr);\n  } // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n\n\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\n\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n\n  setVisualToOption(thisOption, visualArr);\n}\n\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      value = this.mapValueToVisual(value); // Must not be array value\n\n      setter('color', applyValue(getter('color'), value));\n    },\n    _doMap: makeDoMap([0, 1])\n  };\n}\n\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {};\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\n\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\n\nfunction doMapFixed() {\n  return this.option.visual[0];\n}\n\nfunction makeDoMap(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\n\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\n\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      return zrColor.parse(item);\n    });\n  }\n\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\n\n\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal\n\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\n/**\n * List available visual types.\n *\n * @public\n * @return {Array.<string>}\n */\n\nVisualMapping.listVisualTypes = function () {\n  var visualTypes = [];\n  zrUtil.each(visualHandlers, function (handler, key) {\n    visualTypes.push(key);\n  });\n  return visualTypes;\n};\n/**\n * @public\n */\n\n\nVisualMapping.addVisualHandler = function (name, handler) {\n  visualHandlers[name] = handler;\n};\n/**\n * @public\n */\n\n\nVisualMapping.isValidType = function (visualType) {\n  return visualHandlers.hasOwnProperty(visualType);\n};\n/**\n * Convinent method.\n * Visual can be Object or Array or primary type.\n *\n * @public\n */\n\n\nVisualMapping.eachVisual = function (visual, callback, context) {\n  if (zrUtil.isObject(visual)) {\n    zrUtil.each(visual, callback, context);\n  } else {\n    callback.call(context, visual);\n  }\n};\n\nVisualMapping.mapVisual = function (visual, callback, context) {\n  var isPrimary;\n  var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n  VisualMapping.eachVisual(visual, function (v, key) {\n    var newVal = callback.call(context, v, key);\n    isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n  });\n  return newVisual;\n};\n/**\n * @public\n * @param {Object} obj\n * @return {Object} new object containers visual values.\n *                 If no visuals, return null.\n */\n\n\nVisualMapping.retrieveVisuals = function (obj) {\n  var ret = {};\n  var hasVisual;\n  obj && each(visualHandlers, function (h, visualType) {\n    if (obj.hasOwnProperty(visualType)) {\n      ret[visualType] = obj[visualType];\n      hasVisual = true;\n    }\n  });\n  return hasVisual ? ret : null;\n};\n/**\n * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n *\n * @public\n * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n * @return {Array.<string>} Sorted visual types.\n */\n\n\nVisualMapping.prepareVisualTypes = function (visualTypes) {\n  if (isObject(visualTypes)) {\n    var types = [];\n    each(visualTypes, function (item, type) {\n      types.push(type);\n    });\n    visualTypes = types;\n  } else if (zrUtil.isArray(visualTypes)) {\n    visualTypes = visualTypes.slice();\n  } else {\n    return [];\n  }\n\n  visualTypes.sort(function (type1, type2) {\n    // color should be front of colorSaturation, colorAlpha, ...\n    // symbol and symbolSize do not matter.\n    return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n  });\n  return visualTypes;\n};\n/**\n * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n * Other visuals are only depends on themself.\n *\n * @public\n * @param {string} visualType1\n * @param {string} visualType2\n * @return {boolean}\n */\n\n\nVisualMapping.dependsOn = function (visualType1, visualType2) {\n  return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n};\n/**\n * @param {number} value\n * @param {Array.<Object>} pieceList [{value: ..., interval: [min, max]}, ...]\n *                         Always from small to big.\n * @param {boolean} [findClosestWhenOutside=false]\n * @return {number} index\n */\n\n\nVisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n  var possibleI;\n  var abs = Infinity; // value has the higher priority.\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var pieceValue = pieceList[i].value;\n\n    if (pieceValue != null) {\n      if (pieceValue === value // FIXME\n      // It is supposed to compare value according to value type of dimension,\n      // but currently value type can exactly be string or number.\n      // Compromise for numeric-like string (like '12'), especially\n      // in the case that visualMap.categories is ['22', '33'].\n      || typeof pieceValue === 'string' && pieceValue === value + '') {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(pieceValue, i);\n    }\n  }\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var piece = pieceList[i];\n    var interval = piece.interval;\n    var close = piece.close;\n\n    if (interval) {\n      if (interval[0] === -Infinity) {\n        if (littleThan(close[1], value, interval[1])) {\n          return i;\n        }\n      } else if (interval[1] === Infinity) {\n        if (littleThan(close[0], interval[0], value)) {\n          return i;\n        }\n      } else if (littleThan(close[0], interval[0], value) && littleThan(close[1], value, interval[1])) {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(interval[0], i);\n      findClosestWhenOutside && updatePossible(interval[1], i);\n    }\n  }\n\n  if (findClosestWhenOutside) {\n    return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n  }\n\n  function updatePossible(val, index) {\n    var newAbs = Math.abs(val - value);\n\n    if (newAbs < abs) {\n      abs = newAbs;\n      possibleI = index;\n    }\n  }\n};\n\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\n\nvar _default = VisualMapping;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Visual mapping.\n */\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nvar _default = visualDefault;\nmodule.exports = _default;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar layout = require(\"../../util/layout\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'visualMap',\n\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n  autoPositionValues: {\n    left: 1,\n    right: 1,\n    top: 1,\n    bottom: 1\n  },\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/visualMap/visualMapModel}\n     */\n\n    this.visualMapModel;\n  },\n\n  /**\n   * @protected\n   */\n  render: function (visualMapModel, ecModel, api, payload) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender.apply(this, arguments);\n  },\n\n  /**\n   * @protected\n   */\n  renderBackground: function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new graphic.Rect({\n      z2: -1,\n      // Lay background rect on the lowest layer.\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  },\n\n  /**\n   * @protected\n   * @param {number} targetValue can be Infinity or -Infinity\n   * @param {string=} visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param {Object} [opts]\n   * @param {string=} [opts.forceState] Specify state, instead of using getValueState method.\n   * @param {string=} [opts.convertOpacityToAlpha=false] For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  getControllerVisual: function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'symbol') {\n      visualObj.symbol = visualMapModel.get('itemSymbol');\n    }\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  },\n\n  /**\n   * @protected\n   */\n  positionGroup: function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  },\n\n  /**\n   * @protected\n   * @abstract\n   */\n  doRender: zrUtil.noop\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/ContinuousModel\");\n\nrequire(\"./visualMap/ContinuousView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"environment\"},[_vm._m(0),_c('div',{staticClass:\"childtitle one\"},[_vm._v(\"?\")]),_c('div',{staticClass:\"content\"},[_c('el-row',{staticClass:\"explainRow\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xs\":24,\"span\":12}},[_c('div',{staticClass:\"explainTitle one\"},[_vm._v(\"\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"  \"),_c('br'),_c('b',[_vm._v(\" \")]),_vm._v(\"\"),_c('br'),_c('b',[_vm._v(\" \")]),_vm._v(\" \"),_c('br')]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\" \"),_c('span',{staticClass:\"explain_heilight2\"},[_vm._v(\"  \")]),_vm._v(\"\"),_c('span',{staticClass:\"explain_heilight2\"},[_vm._v(\"  \")]),_vm._v(\"\"),_c('br'),_c('b',[_vm._v(\" \")]),_vm._v(\"\"),_c('span',{staticClass:\"explain_heilight2\"},[_vm._v(\" \")]),_vm._v(\"\"),_c('br'),_c('b',[_vm._v(\" \")]),_vm._v(\"\"),_c('span',{staticClass:\"explain_heilight2\"},[_vm._v(\" \")]),_vm._v(\" \")]),_c('div',{staticClass:\"explainTitle two\"},[_vm._v(\"\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\" 1071  1087 \"),_c('span',{staticClass:\"explain_heilight1\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"explain_heilight1\"},[_vm._v(\"\")]),_vm._v(\" \")]),_c('div',{staticClass:\"infoFrom\"},[_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://www.nownews.com/news/3648561\"}},[_vm._v(\" \")])])]),_c('el-col',{attrs:{\"xs\":24,\"span\":12}},[_c('div',{staticClass:\"subtitle\"},[_c('b',[_vm._v(\"\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ExplanTable,\"header-cell-style\":_vm.tableHeaderColor,\"row-style\":{ background: '#FFFFF0' }}},[_c('el-table-column',{attrs:{\"prop\":\"item\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"firstStandard\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"secondStandard\",\"label\":\"\"}})],1),_c('div',{staticClass:\"website\"},[_vm._v(\"   \"),_c('a',{attrs:{\"href\":\"https://sgw.epa.gov.tw/public/misc/service/pollutant\"}},[_vm._v(\"\")])])],1)],1)],1),_c('hr',{staticClass:\"hr\"}),_c('div',{staticClass:\"childtitle two\"},[_vm._v(\"\")]),_c('div',{staticClass:\"content\"},[_vm._m(1),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":24,\"span\":12}},[_c('div',{attrs:{\"id\":\"mapchart\"}})]),_c('el-col',{attrs:{\"xs\":24,\"span\":12}},[_c('div',{staticClass:\"searchDisName\"},[_vm._v(\" \"+_vm._s(_vm.clickDisName)+\" \")]),_c('l-map',{staticClass:\"map\",attrs:{\"zoom\":_vm.zoom,\"options\":_vm.options,\"center\":_vm.center}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._l((_vm.stationlatlng),function(item){return _c('l-marker',{key:item.name,ref:\"location\",refInFor:true,attrs:{\"lat-lng\":item.local}},[_c('l-icon',{attrs:{\"icon-url\":_vm.iconimg}}),_c('l-tooltip',{attrs:{\"options\":_vm.tooltipOptions}},[_vm._v(_vm._s(item.name))]),_c('l-popup',[_vm._v(_vm._s(item.address))])],1)})],2)],1)],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"...\"}},[(_vm.newestData.length !== 0)?_c('div',[_c('el-row',{staticClass:\"colorExplain\"},[_c('el-col',{staticStyle:{\"padding\":\"0px 2% 0px 0px\"},attrs:{\"xs\":3,\"span\":5}},[_c('div',{staticClass:\"passBlock\"})]),_c('el-col',{attrs:{\"xs\":9,\"span\":7}},[_c('span',[_vm._v(\"\")])]),_c('el-col',{staticStyle:{\"padding\":\"0px 2% 0px 0px\"},attrs:{\"xs\":3,\"span\":5}},[_c('div',{staticClass:\"unpassBlock\"})]),_c('el-col',{attrs:{\"xs\":9,\"span\":7}},[_c('span',[_vm._v(\"\")])])],1),_vm._l((2),function(index){return _c('div',{key:index},[_c('div',{staticClass:\"searchTitle\"},[_vm._v(\" \"+_vm._s(_vm.setSearchTitle(index))+\" \")]),_vm._l((_vm.newestData),function(item){return _c('div',{key:item.name},[_c('div',{staticClass:\"newestDataName\"},[_c('span',[_vm._v(\"\"+_vm._s(item.name))]),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\" : \"+_vm._s(item.date))])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":[item],\"header-cell-style\":{\n                background: '#5F5F5F',\n                color: 'white',\n                fontSize: '18px',\n              },\"cell-style\":index === 1 ? _vm.tableCellStyle : _vm.tableCellStyle2}},[_c('el-table-column',{attrs:{\"prop\":\"item1\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item2\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item3\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item4\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item5\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item6\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item7\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item8\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item9\",\"label\":\"\"}})],1)],1)})],2)})],2):_vm._e()]),(_vm.newestData.length === 0 && _vm.loading === false)?_c('div',{staticClass:\"noNewestData\"},[_vm._v(\" \"+_vm._s(_vm.clickDisName)+\" \")]):_vm._e()],1),_c('hr',{staticClass:\"hr\"}),_c('div',{staticClass:\"childtitle three\"},[_vm._v(\"\")]),_vm._m(2),_c('el-row',{staticClass:\"detailSearchRow\"},[_c('el-col',{attrs:{\"xs\":10,\"span\":9}},[_c('b',[_vm._v(\"\")]),_c('el-select',{attrs:{\"placeholder\":\"\"},on:{\"change\":_vm.searchStation},model:{value:(_vm.search.dis),callback:function ($$v) {_vm.$set(_vm.search, \"dis\", $$v)},expression:\"search.dis\"}},_vm._l((_vm.mapOptions.series[0].data),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_c('el-col',{attrs:{\"xs\":10,\"span\":9}},[_c('b',[_vm._v(\"\")]),_c('el-select',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.search.station),callback:function ($$v) {_vm.$set(_vm.search, \"station\", $$v)},expression:\"search.station\"}},_vm._l((_vm.stationArray),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-col',{attrs:{\"xs\":4,\"span\":6}},[_c('el-button',{on:{\"click\":_vm.searchData}},[_vm._v(\"\")])],1)],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}],attrs:{\"element-loading-text\":\"...\"}},[(_vm.historyData.length)?_c('div',[_c('el-row',{staticClass:\"colorExplain\"},[_c('el-col',{staticStyle:{\"padding\":\"0px 2% 0px 0px\"},attrs:{\"xs\":3,\"span\":5}},[_c('div',{staticClass:\"passBlock\"})]),_c('el-col',{attrs:{\"xs\":9,\"span\":7}},[_c('span',[_vm._v(\"\")])]),_c('el-col',{staticStyle:{\"padding\":\"0px 2% 0px 0px\"},attrs:{\"xs\":3,\"span\":5}},[_c('div',{staticClass:\"unpassBlock\"})]),_c('el-col',{attrs:{\"xs\":9,\"span\":7}},[_c('span',[_vm._v(\"\")])])],1),_vm._l((2),function(index){return _c('div',{key:index},[_c('div',{staticClass:\"searchTitle\"},[_vm._v(_vm._s(_vm.setSearchTitle(index)))]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.historyData,\"header-cell-style\":{\n            background: '#5F5F5F',\n            color: 'white',\n            fontSize: '18px',\n          },\"cell-style\":index === 1 ? _vm.tableCellStyle : _vm.tableCellStyle2}},[_c('el-table-column',{attrs:{\"prop\":\"year\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item1\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item2\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item3\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item4\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item5\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item6\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item7\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item8\",\"label\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"item9\",\"label\":\"\"}})],1)],1)})],2):_vm._e()]),_c('div',{staticClass:\"footer\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",staticStyle:{\"margin\":\"0 15px 0 15px\"}},[_c('div',{staticClass:\"col-12 text-center\"},[_c('span',{staticClass:\"badge badge-pill badge-info animate__animated animate__fadeInUp text-center title\",staticStyle:{\"animation-duration\":\"1s\",\"animation-iteration-count\":\"1\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"   \"),_c('br'),_vm._v(\" Tip :  \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b',[_vm._v(\"\")]),_c('br'),_vm._v(\" Tip :  \"),_c('br'),_vm._v(\"  : \"),_c('b',[_vm._v(\"  \")]),_vm._v(\" \"),_c('br'),_vm._v(\"  :  \")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"environment\">\r\n    <!--  -->\r\n    <div class=\"row\" style=\"margin: 0 15px 0 15px\">\r\n      <div class=\"col-12 text-center\">\r\n        <span\r\n          class=\"badge badge-pill badge-info animate__animated animate__fadeInUp text-center title\"\r\n          style=\"animation-duration: 1s; animation-iteration-count: 1\"\r\n          ></span\r\n        >\r\n      </div>\r\n    </div>\r\n    <!--  -->\r\n    <div class=\"childtitle one\">?</div>\r\n    <div class=\"content\">\r\n      <el-row class=\"explainRow\" :gutter=\"20\">\r\n        <!--  -->\r\n        <el-col :xs=\"24\" :span=\"12\">\r\n          <div class=\"explainTitle one\"></div>\r\n          <div class=\"subtitle\">\r\n             <br />\r\n            <b> </b><br />\r\n            <b> </b> <br />\r\n          </div>\r\n          <div class=\"subtitle\">\r\n            <span class=\"explain_heilight2\">  </span\r\n            ><span class=\"explain_heilight2\">  </span><br />\r\n            <b> </b><span class=\"explain_heilight2\">\r\n              </span\r\n            ><br />\r\n            <b> </b><span class=\"explain_heilight2\">\r\n              </span\r\n            >\r\n          </div>\r\n          <div class=\"explainTitle two\"></div>\r\n          <div class=\"subtitle\">\r\n            1071  1087\r\n            <span\r\n              class=\"explain_heilight1\"\r\n              ></span\r\n            >\r\n            <span class=\"explain_heilight1\"\r\n              ></span\r\n            >\r\n          </div>\r\n          <!--  -->\r\n          <div class=\"infoFrom\">\r\n            <a href=\"https://www.nownews.com/news/3648561\"\r\n              > </a\r\n            >\r\n          </div>\r\n        </el-col>\r\n        <!--  -->\r\n        <el-col :xs=\"24\" :span=\"12\">\r\n          <div class=\"subtitle\">\r\n            <b></b>\r\n          </div>\r\n          <el-table\r\n            :data=\"ExplanTable\"\r\n            style=\"width: 100%\"\r\n            :header-cell-style=\"tableHeaderColor\"\r\n            :row-style=\"{ background: '#FFFFF0' }\"\r\n          >\r\n            <el-table-column prop=\"item\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"firstStandard\" label=\"\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"secondStandard\" label=\"\">\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"website\">\r\n             \r\n            <a href=\"https://sgw.epa.gov.tw/public/misc/service/pollutant\"\r\n              ></a\r\n            >\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <!--  -->\r\n    <hr class=\"hr\" />\r\n    <div class=\"childtitle two\"></div>\r\n    <div class=\"content\">\r\n      <div>\r\n          <br />\r\n        Tip : \r\n      </div>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :xs=\"24\" :span=\"12\">\r\n          <!--  -->\r\n          <div id=\"mapchart\"></div>\r\n        </el-col>\r\n        <el-col :xs=\"24\" :span=\"12\">\r\n          <!--  -->\r\n          <div class=\"searchDisName\">\r\n            {{ clickDisName }}\r\n          </div>\r\n          <l-map class=\"map\" :zoom=\"zoom\" :options=\"options\" :center=\"center\">\r\n            <!--  -->\r\n            <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\r\n            <!--  -->\r\n            <l-marker\r\n              ref=\"location\"\r\n              :lat-lng=\"item.local\"\r\n              v-for=\"item in stationlatlng\"\r\n              :key=\"item.name\"\r\n            >\r\n              <!--  -->\r\n              <l-icon :icon-url=\"iconimg\" />\r\n              <l-tooltip :options=\"tooltipOptions\">{{ item.name }}</l-tooltip>\r\n              <!--  -->\r\n              <l-popup>{{ item.address }}</l-popup>\r\n            </l-marker>\r\n          </l-map>\r\n        </el-col>\r\n      </el-row>\r\n      <!--  -->\r\n      <div v-loading=\"loading\" element-loading-text=\"...\">\r\n        <div v-if=\"newestData.length !== 0\">\r\n          <!--  -->\r\n          <el-row class=\"colorExplain\">\r\n            <el-col :xs=\"3\" :span=\"5\" style=\"padding: 0px 2% 0px 0px\">\r\n              <div class=\"passBlock\"></div>\r\n            </el-col>\r\n            <el-col :xs=\"9\" :span=\"7\">\r\n              <span></span>\r\n            </el-col>\r\n            <el-col :xs=\"3\" :span=\"5\" style=\"padding: 0px 2% 0px 0px\">\r\n              <div class=\"unpassBlock\"></div>\r\n            </el-col>\r\n            <el-col :xs=\"9\" :span=\"7\">\r\n              <span></span>\r\n            </el-col>\r\n          </el-row>\r\n          <!--  -->\r\n          <div v-for=\"index in 2\" :key=\"index\">\r\n            <div class=\"searchTitle\">\r\n              {{ setSearchTitle(index) }}\r\n            </div>\r\n            <div v-for=\"item in newestData\" :key=\"item.name\">\r\n              <div class=\"newestDataName\">\r\n                <span>{{ item.name }}</span>\r\n                <span style=\"margin-left: 20px\"\r\n                  > : {{ item.date }}</span\r\n                >\r\n              </div>\r\n              <el-table\r\n                :data=\"[item]\"\r\n                style=\"width: 100%\"\r\n                :header-cell-style=\"{\r\n                  background: '#5F5F5F',\r\n                  color: 'white',\r\n                  fontSize: '18px',\r\n                }\"\r\n                :cell-style=\"index === 1 ? tableCellStyle : tableCellStyle2\"\r\n              >\r\n                <el-table-column prop=\"item1\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item2\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item3\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item4\" label=\"\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"item5\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item6\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item7\" label=\"\"> </el-table-column>\r\n                <el-table-column prop=\"item8\" label=\"\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"item9\" label=\"\"> </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--  -->\r\n      <div\r\n        v-if=\"newestData.length === 0 && loading === false\"\r\n        class=\"noNewestData\"\r\n      >\r\n        {{ clickDisName }}\r\n      </div>\r\n    </div>\r\n    <!--  -->\r\n    <hr class=\"hr\" />\r\n    <div class=\"childtitle three\"></div>\r\n    <div>\r\n      <b></b><br />\r\n      Tip :\r\n      \r\n      <br />  : <b>  </b> <br />  :\r\n      \r\n    </div>\r\n    <el-row class=\"detailSearchRow\">\r\n      <el-col :xs=\"10\" :span=\"9\">\r\n        <b></b>\r\n        <el-select\r\n          v-model=\"search.dis\"\r\n          @change=\"searchStation\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in mapOptions.series[0].data\"\r\n            :key=\"item.name\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :xs=\"10\" :span=\"9\">\r\n        <b></b>\r\n        <el-select v-model=\"search.station\" placeholder=\"\">\r\n          <el-option\r\n            v-for=\"item in stationArray\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :xs=\"4\" :span=\"6\">\r\n        <el-button @click=\"searchData\"></el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <div v-loading=\"loading2\" element-loading-text=\"...\">\r\n      <div v-if=\"historyData.length\">\r\n        <!--  -->\r\n        <el-row class=\"colorExplain\">\r\n          <el-col :xs=\"3\" :span=\"5\" style=\"padding: 0px 2% 0px 0px\">\r\n            <div class=\"passBlock\"></div>\r\n          </el-col>\r\n          <el-col :xs=\"9\" :span=\"7\">\r\n            <span></span>\r\n          </el-col>\r\n          <el-col :xs=\"3\" :span=\"5\" style=\"padding: 0px 2% 0px 0px\">\r\n            <div class=\"unpassBlock\"></div>\r\n          </el-col>\r\n          <el-col :xs=\"9\" :span=\"7\">\r\n            <span></span>\r\n          </el-col>\r\n        </el-row>\r\n        <div v-for=\"index in 2\" :key=\"index\">\r\n          <div class=\"searchTitle\">{{ setSearchTitle(index) }}</div>\r\n          <el-table\r\n            :data=\"historyData\"\r\n            style=\"width: 100%\"\r\n            :header-cell-style=\"{\r\n              background: '#5F5F5F',\r\n              color: 'white',\r\n              fontSize: '18px',\r\n            }\"\r\n            :cell-style=\"index === 1 ? tableCellStyle : tableCellStyle2\"\r\n          >\r\n            <el-table-column prop=\"year\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item1\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item2\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item3\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item4\" label=\"\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"item5\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item6\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item7\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item8\" label=\"\"> </el-table-column>\r\n            <el-table-column prop=\"item9\" label=\"\"> </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport \"echarts/lib/component/visualMap\";\r\nlet echarts = require(\"echarts/lib/echarts\");\r\nlet ntpJson = require(\"@/assets/geo/test.json\");\r\necharts.registerMap(\"ntp\", ntpJson);\r\n\r\nexport default {\r\n  async mounted() {\r\n    this.getStationName();\r\n    // \r\n    this.mapchart = echarts.init(document.getElementById(\"mapchart\"));\r\n    this.mapchart.setOption(this.mapOptions);\r\n    this.mapchart.on(\"click\", (e) => this.clickDistrict(e)); // \r\n    window.onresize = () => this.mapchart.resize();\r\n    this.nowYear = moment(new Date()).format(\"YYYY\"); // \r\n    this.getStationNewestData(\"\"); // \r\n  },\r\n  data() {\r\n    return {\r\n      // \r\n      ExplanTable: [\r\n        {\r\n          item: \" (Fe)\",\r\n          firstStandard: \"0.15\",\r\n          secondStandard: \"1.50\",\r\n        },\r\n        {\r\n          item: \" (Mn)\",\r\n          firstStandard: \"0.025\",\r\n          secondStandard: \"0.250\",\r\n        },\r\n        {\r\n          item: \" (CaCO3) \",\r\n          firstStandard: \"150\",\r\n          secondStandard: \"750\",\r\n        },\r\n        {\r\n          item: \" (Total dissolved solid)\",\r\n          firstStandard: \"250\",\r\n          secondStandard: \"1250\",\r\n        },\r\n        {\r\n          item: \" (Chloride as Cl-)\",\r\n          firstStandard: \"125\",\r\n          secondStandard: \"625\",\r\n        },\r\n        {\r\n          item: \" (Ammonium nitrogen)\",\r\n          firstStandard: \"0.050\",\r\n          secondStandard: \"0.25\",\r\n        },\r\n        {\r\n          item: \" (SO42-) \",\r\n          firstStandard: \"125\",\r\n          secondStandard: \"625\",\r\n        },\r\n        {\r\n          item: \" (Total organic carbon)\",\r\n          firstStandard: \"2.0\",\r\n          secondStandard: \"10\",\r\n        },\r\n        {\r\n          item: \" (Phenols)\",\r\n          firstStandard: \"0.014\",\r\n          secondStandard: \"0.14\",\r\n        },\r\n      ],\r\n      //\r\n      mapOptions: {\r\n        visualMap: {\r\n          left: \"70%\",\r\n          top: \"30%\",\r\n          min: 0,\r\n          max: 8,\r\n          splitNumber: 4,\r\n          inRange: {\r\n            color: [\"#91c7ae\", \"#61a0a8\", \"#DDAA00\", \"#d48265\"],\r\n          },\r\n          text: [\"\", \"\"],\r\n          show: true,\r\n        },\r\n        series: [\r\n          {\r\n            type: \"map\",\r\n            map: \"ntp\",\r\n            zoom: 3,\r\n            left: \"-15%\",\r\n            top: \"35%\",\r\n            aspectScale: 1, // \r\n            center: [120.285830852, 22.670955631],\r\n            data: [],\r\n          },\r\n        ],\r\n      },\r\n      // \r\n      search: {\r\n        station: \"\",\r\n        dis: \"\",\r\n      },\r\n      mapchart: {}, // \r\n      historyData: [], // \r\n      stationArray: [], // \r\n      clickDisName: \"\", // \r\n      newestData: [], // \r\n      stationlatlng: [], // \r\n      stationlatlng_original: [], // \r\n      loading: true, // loading\r\n      loading2: false, // loading\r\n      nowYear: 0, // \r\n      // ------------------------------------------\r\n      //\r\n      zoom: 11,\r\n      //\r\n      center: [22.612786, 120.442959],\r\n      // \r\n      iconimg: require(\"leaflet/dist/images/marker-icon.png\"),\r\n      //\r\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n      //\r\n      attribution: ` <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors`,\r\n      // \r\n      options: {\r\n        zoomControl: false,\r\n      },\r\n      //tooltip\r\n      tooltipOptions: {\r\n        permanent: true,\r\n        offset: [10, 10],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // \r\n    setSearchTitle(index) {\r\n      if (index === 1) {\r\n        return \"\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    // tableheader\r\n    tableHeaderColor({ columnIndex }) {\r\n      if (columnIndex === 0) {\r\n        return \"background-color: #DDAA00;color: #fff;font-weight: 700;\";\r\n      }\r\n      if (columnIndex === 1) {\r\n        return \"background-color: #91c7ae;color: #fff;font-weight: 700;\";\r\n      }\r\n      if (columnIndex === 2) {\r\n        return \"background-color: #61a0a8;color: #fff;font-weight: 700;\";\r\n      }\r\n    },\r\n    //  & style()\r\n    tableCellStyle({ row, columnIndex }) {\r\n      let cellStyle;\r\n      if (columnIndex === 0 && row.year !== undefined) {\r\n        return (cellStyle = \"background: #fffff0\");\r\n      }\r\n      let index = 0;\r\n      if (row.year !== undefined) {\r\n        index = columnIndex;\r\n      } else {\r\n        index = columnIndex + 1;\r\n      }\r\n      let firstWWord = row[`item${index}`].substring(0, 1);\r\n      let value = 0;\r\n      value = parseFloat(row[`item${index}`]);\r\n      if (firstWWord === \"<\" || firstWWord === \">\") {\r\n        value = parseFloat(row[`item${index}`].substr(1));\r\n      }\r\n      let standard = [0.15, 0.025, 150, 250, 125, 0.05, 125, 2.0, 0.014];\r\n      if (value < standard[index - 1]) {\r\n        cellStyle = \"background: #99DCF1\";\r\n      } else if (isNaN(value)) {\r\n        cellStyle = \"background: white\";\r\n      } else {\r\n        cellStyle = \"background: #FBD8D8\";\r\n      }\r\n      return cellStyle;\r\n    },\r\n    // style()\r\n    tableCellStyle2({ row, columnIndex }) {\r\n      let cellStyle;\r\n      if (columnIndex === 0 && row.year !== undefined) {\r\n        return (cellStyle = \"background: #fffff0\");\r\n      }\r\n      let index = 0;\r\n      if (row.year !== undefined) {\r\n        index = columnIndex;\r\n      } else {\r\n        index = columnIndex + 1;\r\n      }\r\n      let firstWWord = row[`item${index}`].substring(0, 1);\r\n      let value = 0;\r\n      value = parseFloat(row[`item${index}`]);\r\n      if (firstWWord === \"<\" || firstWWord === \">\") {\r\n        value = parseFloat(row[`item${index}`].substr(1));\r\n      }\r\n      let standard = [1.5, 0.25, 750, 1250, 625, 0.25, 625, 10, 0.14];\r\n      if (value < standard[index - 1]) {\r\n        cellStyle = \"background: #99DCF1\";\r\n      } else if (isNaN(value)) {\r\n        cellStyle = \"background: white\";\r\n      } else {\r\n        cellStyle = \"background: #FBD8D8\";\r\n      }\r\n      return cellStyle;\r\n    },\r\n    // \r\n    searchStation() {\r\n      this.stationArray = [];\r\n      let station = this.stationlatlng_original.filter((item) => {\r\n        return item.dis === this.search.dis;\r\n      });\r\n      station.forEach((item) => {\r\n        this.stationArray.push(item.name);\r\n      });\r\n      console.log(station);\r\n    },\r\n    //\r\n    async clickDistrict(e) {\r\n      let clickDis = this.mapOptions.series[0].data.filter((data) => {\r\n        return data.index === e.dataIndex;\r\n      });\r\n      console.log(clickDis);\r\n      if (clickDis.length === 0) {\r\n        this.$message({\r\n          message: \"\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n      this.stationlatlng = this.stationlatlng_original.filter((item) => {\r\n        return item.dis === clickDis[0].name;\r\n      });\r\n      this.clickDisName = clickDis[0].name;\r\n      this.center = this.stationlatlng[0].local;\r\n      this.getStationNewestData(clickDis[0].name);\r\n    },\r\n    // \r\n    getStationName() {\r\n      axios\r\n        .post(`${this.allURL}groundWater/stationName`)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.mapOptions.series[0].data = res.data.siteData[0];\r\n          console.log(this.mapOptions);\r\n          this.mapchart.setOption(this.mapOptions);\r\n          for (let i = 1; i < res.data.siteData.length; i++) {\r\n            let mapdetail = {\r\n              name: \"\",\r\n              address: \"\",\r\n              dis: \"\",\r\n              local: [],\r\n            };\r\n            mapdetail.name = res.data.siteData[i].SiteName;\r\n            mapdetail.dis = res.data.siteData[i].dis;\r\n            mapdetail.address = \" : \" + res.data.siteData[i].SiteAddress;\r\n            mapdetail.local[0] = res.data.siteData[i].latitude;\r\n            mapdetail.local[1] = res.data.siteData[i].longitude;\r\n            this.stationlatlng_original.push(mapdetail);\r\n          }\r\n          console.log(this.stationlatlng_original);\r\n          this.stationlatlng = this.stationlatlng_original.filter((item) => {\r\n            return item.dis === \"\";\r\n          });\r\n          this.center = this.stationlatlng[0].local;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // \r\n    getStationNewestData(disName) {\r\n      this.loading = true;\r\n      axios\r\n        .post(`${this.allURL}groundWater/newestGroundData`, {\r\n          dis: disName,\r\n          year: this.nowYear,\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.newestData = res.data.newestData;\r\n          console.log(this.newestData);\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // \r\n    searchData() {\r\n      if (this.search.dis === \"\" || this.search.station === \"\") {\r\n        this.$message({\r\n          message: \"\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n      console.log(this.search.dis);\r\n      console.log(this.search.station);\r\n      this.loading2 = true;\r\n      this.historyData = [];\r\n      let count = 0;\r\n      let searchData = [];\r\n      for (let i = 2014; i <= 10000; i++) {\r\n        if (i > this.nowYear) break; // break\r\n        count += 1;\r\n        axios\r\n          .post(\r\n            `${this.allURL}groundWater/detailSearch`,\r\n            {\r\n              station: this.search.station,\r\n              year: i,\r\n            }\r\n            // { responseType: \"blob\" }\r\n          )\r\n          .then((res) => {\r\n            // this.download(res.data.searchData);\r\n            console.log(res.data);\r\n            // \r\n            searchData.push(res.data.searchData);\r\n            if (searchData.length == count) {\r\n              searchData = searchData.sort(function (x, y) {\r\n                return x[0] - y[0];\r\n              });\r\n              console.log(searchData);\r\n              searchData.forEach((item) => {\r\n                item[1].year = item[0];\r\n                item.splice(0, 1); // \r\n                this.historyData.push(...item);\r\n              });\r\n              console.log(this.historyData);\r\n              this.loading2 = false;\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    download(res) {\r\n      if (!res) {\r\n        return;\r\n      }\r\n      let url = window.URL.createObjectURL(new Blob([res]));\r\n      let link = document.createElement(\"a\");\r\n      link.style.display = \"none\";\r\n      link.href = url;\r\n      link.setAttribute(\"download\", \"aaa.json\");\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.environment {\r\n  overflow: hidden;\r\n  padding: 2rem 4rem;\r\n  background-color: #e3f0f7;\r\n  font-family: ;\r\n  font-size: 22px;\r\n  .footer {\r\n    background-color: #e3f0f7;\r\n    height: 100px;\r\n  }\r\n  .title {\r\n    margin: 0 auto 3% auto;\r\n    border-color: #dcdcdc;\r\n    border-width: 2px;\r\n    padding: 1%;\r\n    display: inline-block;\r\n    line-height: 60px;\r\n    letter-spacing: 10px;\r\n    text-decoration: none;\r\n    font-weight: 600;\r\n    outline: 0;\r\n    font-size: 2.5em;\r\n  }\r\n  .content {\r\n    padding: 20px 50px;\r\n  }\r\n  .subtitle {\r\n    margin-bottom: 20px;\r\n    padding-left: 50px;\r\n    letter-spacing: 3px;\r\n  }\r\n  .childtitle {\r\n    font-size: 1.8em;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    letter-spacing: 10px;\r\n    border-radius: 10px;\r\n    padding: 5px;\r\n    background-color: #064780;\r\n    text-align: center;\r\n    margin: 0 0 20px 0;\r\n  }\r\n  .childtitle.one {\r\n    width: 260px;\r\n  }\r\n  .childtitle.two {\r\n    width: 870px;\r\n  }\r\n  .childtitle.three {\r\n    width: 430px;\r\n  }\r\n  .searchDisName {\r\n    text-align: center;\r\n    font-size: 30px;\r\n    margin: 10px auto;\r\n    font-weight: bold;\r\n    color: #fff;\r\n    border-radius: 10px;\r\n    padding: 5px;\r\n    background-color: #49889d;\r\n    width: 180px;\r\n  }\r\n  .noNewestData {\r\n    font-size: 30px;\r\n    color: #888888;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-top: 30px;\r\n  }\r\n  .newestDataName {\r\n    font-weight: bold;\r\n    color: #003377;\r\n    margin: 15px 0;\r\n  }\r\n  .searchTitle {\r\n    font-weight: bold;\r\n    color: #003377;\r\n    margin: 20px 0 0 0;\r\n  }\r\n  .explainTitle {\r\n    font-weight: bold;\r\n    font-size: 1.4em;\r\n    letter-spacing: 5px;\r\n    margin-bottom: 10px;\r\n    color: #fff;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    background-color: #61a0a8;\r\n  }\r\n  .explainTitle.one {\r\n    width: 250px;\r\n  }\r\n  .explainTitle.two {\r\n    margin-top: 50px;\r\n    width: 430px;\r\n  }\r\n  .explain_heilight1 {\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: red;\r\n  }\r\n  .explain_heilight2 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    color: #ffaa33;\r\n  }\r\n  .infoFrom {\r\n    text-align: right;\r\n    font-size: 20px;\r\n    margin-top: 5px;\r\n  }\r\n  #mapchart {\r\n    width: 100%;\r\n    height: 500px;\r\n    position: relative;\r\n  }\r\n  .explainRow {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .website {\r\n    text-align: right;\r\n    margin-top: 15px;\r\n    font-size: 20px;\r\n  }\r\n  .map {\r\n    height: 450px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    font-size: 22px;\r\n  }\r\n  .detailSearchRow {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 2% 10% 0 0;\r\n  }\r\n  .ps1 {\r\n    width: 45%;\r\n  }\r\n  .ps2 {\r\n    padding: 15px 2%;\r\n    width: 100%;\r\n  }\r\n  .colorExplain {\r\n    padding: 2% 20% 0 20%;\r\n    .passBlock {\r\n      height: 20px;\r\n      width: 80px;\r\n      background-color: #99dcf1;\r\n      margin: 0 0 0 auto;\r\n    }\r\n    .unpassBlock {\r\n      height: 20px;\r\n      width: 80px;\r\n      background-color: #fbd8d8;\r\n      margin: 0 0 0 auto;\r\n    }\r\n  }\r\n  /deep/.el-table td,\r\n  .el-table th {\r\n    position: relative;\r\n    text-align: center;\r\n    border: 1px solid #ebeef5;\r\n  }\r\n  /deep/.el-table th {\r\n    border: 1px solid #ebeef5;\r\n    text-align: center;\r\n  }\r\n  /deep/.el-table__body,\r\n  .el-table__footer,\r\n  .el-table__header {\r\n    border-collapse: separate;\r\n  }\r\n  /deep/.cell {\r\n    font-size: 22px;\r\n    line-height: 22px;\r\n  }\r\n  /deep/.el-input__inner {\r\n    font-size: 22px;\r\n  }\r\n  /deep/.el-button {\r\n    font-size: 22px;\r\n  }\r\n  @media (max-width: 1280px) {\r\n    /deep/.el-col-xs-24 {\r\n      width: 100% !important;\r\n    }\r\n    .childtitle.one,\r\n    .childtitle.two,\r\n    .childtitle.three {\r\n      width: 100%;\r\n    }\r\n    .searchDisName {\r\n      width: 50%;\r\n    }\r\n  }\r\n  @media (max-width: 450px) {\r\n    padding: 2% 4% !important;\r\n    font-size: 14px;\r\n    .title {\r\n      padding: 0px 15px;\r\n      letter-spacing: 5px;\r\n      font-size: 26px;\r\n      line-height: 50px;\r\n    }\r\n    .noNewestData {\r\n      font-size: 25px;\r\n    }\r\n    .explainRow {\r\n      display: block;\r\n    }\r\n    .colorExplain {\r\n      padding: 0;\r\n      .passBlock {\r\n        height: 20px;\r\n        width: 30px;\r\n        margin: 0 auto 20px 0;\r\n      }\r\n      .unpassBlock {\r\n        height: 20px;\r\n        width: 30px;\r\n        margin: 0 auto 20px 0;\r\n      }\r\n    }\r\n    .detailSearchRow {\r\n      padding: 2% 0 0 0;\r\n    }\r\n    .map {\r\n      height: 300px;\r\n      font-size: 14px;\r\n    }\r\n    .footer {\r\n      height: 0;\r\n    }\r\n    .childtitle.one,\r\n    .childtitle.two,\r\n    .childtitle.three {\r\n      font-size: 1.4em;\r\n      letter-spacing: 3px;\r\n      margin: 0 0 1% 0;\r\n      width: 100%;\r\n    }\r\n    .explainTitle.two {\r\n      margin-top: 0;\r\n    }\r\n    .searchDisName {\r\n      width: 50%;\r\n      font-size: 24px;\r\n    }\r\n    .content {\r\n      padding: 20px 0 0 0;\r\n    }\r\n    .subtitle {\r\n      padding-left: 0;\r\n      letter-spacing: 1px;\r\n    }\r\n    .explain_heilight1 {\r\n      font-size: 16px;\r\n    }\r\n    .infoFrom {\r\n      font-size: 12px;\r\n      margin-bottom: 20px;\r\n    }\r\n    .website {\r\n      text-align: left;\r\n      font-size: 12px;\r\n    }\r\n    #mapchart {\r\n      width: 100%;\r\n      height: 200px;\r\n      position: relative;\r\n    }\r\n    .explainTitle {\r\n      font-weight: bold;\r\n      font-size: 1.2em;\r\n    }\r\n    .explainTitle.one {\r\n      width: 55%;\r\n    }\r\n    .explainTitle.two {\r\n      width: 95%;\r\n    }\r\n    .explain_heilight2 {\r\n      font-size: 14px;\r\n    }\r\n    /deep/.el-col-7 {\r\n      margin: 2% 0 0 0;\r\n      width: 35%;\r\n    }\r\n    /deep/.el-col-5 {\r\n      margin: 2% 0 0 0;\r\n    }\r\n    /deep/.cell {\r\n      font-size: 14px !important;\r\n      line-height: 14px;\r\n    }\r\n    /deep/.el-button {\r\n      font-size: 14px;\r\n    }\r\n    /deep/.el-select {\r\n      width: 65%;\r\n    }\r\n    /deep/.el-button.el-button--default {\r\n      padding: 12px 7px;\r\n    }\r\n    /deep/.el-input__inner {\r\n      font-size: 14px;\r\n    }\r\n    /deep/.el-input--suffix .el-input__inner {\r\n      width: 100px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groundWater.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groundWater.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groundWater.vue?vue&type=template&id=6dbb233e&scoped=true&\"\nimport script from \"./groundWater.vue?vue&type=script&lang=js&\"\nexport * from \"./groundWater.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groundWater.vue?vue&type=style&index=0&id=6dbb233e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dbb233e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar VISUAL_PRIORITY = echarts.PRIORITY.VISUAL.COMPONENT;\necharts.registerVisual(VISUAL_PRIORITY, {\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimension(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n}); // Only support color.\n\necharts.registerVisual(VISUAL_PRIORITY, {\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var concreteDim = visualMapModel.getDataDimension(data);\n        var dimInfo = data.getDimensionInfo(concreteDim);\n\n        if (dimInfo != null) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimInfo.index;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    }); // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}); // FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\n\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: seriesModel.getData().getVisual('color') // default color.\n\n  };\n\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n\n  return resultVisual.color;\n\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\n\nfunction _default(option) {\n  var visualMap = option && option.visualMap;\n\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    } // rename splitList to pieces\n\n\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n\n    var pieces = opt.pieces;\n\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\n\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('visualMap', function (option) {\n  // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n  return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/component/visualMap/VisualMapModel} visualMapModel\\\n * @param {module:echarts/ExtensionAPI} api\n * @param {Array.<number>} itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nfunction getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  } // Auto decision align.\n\n\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n\n\nfunction makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}\n\nexports.getItemAlign = getItemAlign;\nexports.makeHighDownBatch = makeHighDownBatch;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar actionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n});","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center'  'left'  'right'  {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top'  'bottom'  'center'  {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal'  'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // \n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // px0\n    padding: 5,\n    // px5\n    // css\n    textGap: 10,\n    //\n    precision: 0,\n    // 0\n    color: null,\n    //deprecatedec2piecesinRange/outOfRange\n    formatter: null,\n    text: null,\n    // ['', '']ec2text[0]text[1]\n    textStyle: {\n      color: '#333' // \n\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  },\n\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    var listDimensions = list.dimensions;\n\n    if (optDim == null && !listDimensions.length) {\n      return;\n    }\n\n    if (optDim != null) {\n      return list.getDimension(optDim);\n    }\n\n    var dimNames = list.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = list.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimName;\n      }\n    }\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the defualt color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}\n\nmodule.exports = _default;"],"sourceRoot":""}